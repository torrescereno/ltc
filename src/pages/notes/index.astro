---
import Header from "../../components/Header.astro";
import Note from "../../components/Note.astro";
import Layout from "../../layouts/Layout.astro";

import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";

const posts: CollectionEntry<"note">[] = (await getCollection("note")).sort(
  (a: CollectionEntry<"note">, b: CollectionEntry<"note">) =>
    b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout title="Notas">
  <main class="min-h-screen bg-gray-800">
    <div class="p-4 text-gray-100 max-w-2xl m-auto">
      <Header />

      <div class="text-gray-300 mx-auto pt-4">
        <h2 class="text-2xl border-b-4 mb-4 pb-4">Notas</h2>
        {posts.map((post) => <Note note={post} />)}
      </div>
    </div>
  </main>
</Layout>
